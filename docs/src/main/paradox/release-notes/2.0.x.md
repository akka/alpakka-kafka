---
project.description: Release notes for all Alpakka Kafka 2.0.x releases.
---
# Alpakka Kafka 2.0.x

@@@ note
In case you are browsing a specific version's documentation: check out the [latest release notes](https://doc.akka.io/docs/alpakka-kafka/current/release-notes/index.html)
@@@

The Alpakka Kafka 2.0 series features

* upgrade to Kafka client 2.4.0
* `Producer.committableSink` behaves as a combination of `Producer.flexiFlow` and `Committer.sink`, but is has a special-purpose implementation
* built-in @ref:[Akka Discovery](../discovery.md) support
* More versatile use of Testcontainers in Alpakka Kafka Testkit

# 2.0.0-M1

Released: 2019-12-03

## Notable changes since 1.1.0

* Kafka 2.4.0-RC1
    - Kafka 2.4.0-RC1 [#971](https://github.com/akka/alpakka-kafka/issues/971) by [@seglo](https://github.com/seglo)

* `Producer.committableSink` behaves as a combination of `Producer.flexiFlow` and `Committer.sink`, but is has a special-purpose implementation 
    - Committing producer sink: producer and committer in a sink stage [#963](https://github.com/akka/alpakka-kafka/issues/963) by [@ennru](https://github.com/ennru)
    - Create `committableSink` as combination of Producer.flexiFlow an… [#932](https://github.com/akka/alpakka-kafka/issues/932) by [@ennru](https://github.com/ennru)
    - Committer: change type bound to allow offset batches [#931](https://github.com/akka/alpakka-kafka/issues/931) by [@ennru](https://github.com/ennru)

- Akka Discovery support [#836](https://github.com/akka/alpakka-kafka/issues/836) by [@ennru](https://github.com/ennru)

- Add wrapper for Metadata requests #497 [#900](https://github.com/akka/alpakka-kafka/issues/900) by [@jewertow](https://github.com/jewertow)

* Offset batches allow aggregation from multiple consumers [#953](https://github.com/akka/alpakka-kafka/issues/953) by [@ennru](https://github.com/ennru)

* Performance
    - As part of Apache Kafka: `KafkaConsumer` should not throw away already fetched data for paused partitions [apache/kafka#6988](https://github.com/apache/kafka/pull/6988) by [@seglo](https://github.com/seglo)
    - Producer: change default parallelism [#944](https://github.com/akka/alpakka-kafka/issues/944) by [@ennru](https://github.com/ennru)
    - Rebalance: filter messages of revoked partitions [#946](https://github.com/akka/alpakka-kafka/issues/946) by [@ennru](https://github.com/ennru)

* Testkit
    - Use testcontainers for multi-broker integration tests and benchmarks [#939](https://github.com/akka/alpakka-kafka/issues/939) by [@seglo](https://github.com/seglo)
    - Make EmbeddedKafka a provided dependency [#954](https://github.com/akka/alpakka-kafka/issues/954) by [@ennru](https://github.com/ennru)

* Alpakka Kafka API
    - Committable: deprecate commitJavadsl and commitScaladsl [#959](https://github.com/akka/alpakka-kafka/issues/959) by [@ennru](https://github.com/ennru)
    - ConsumerSetting: Add group instance id setter [#861](https://github.com/akka/alpakka-kafka/issues/861) by [@def1ne](https://github.com/def1ne)

* Bugs
    - Commit refreshing: fix bug from aggregating offsets [#975](https://github.com/akka/alpakka-kafka/issues/975) by [@ennru](https://github.com/ennru)


## Alpakka Kafka core

- Kafka 2.4.0-RC1 [#971](https://github.com/akka/alpakka-kafka/issues/971) by [@seglo](https://github.com/seglo)
- ConsumerSetting: Add group instance id setter [#861](https://github.com/akka/alpakka-kafka/issues/861) by [@def1ne](https://github.com/def1ne)
- Committing producer sink: producer and committer in a sink stage [#963](https://github.com/akka/alpakka-kafka/issues/963) by [@ennru](https://github.com/ennru)
- Create `committableSink` as combination of Producer.flexiFlow an… [#932](https://github.com/akka/alpakka-kafka/issues/932) by [@ennru](https://github.com/ennru)
- Committer: change type bound to allow offset batches [#931](https://github.com/akka/alpakka-kafka/issues/931) by [@ennru](https://github.com/ennru)
- Consumer: make partition assignment handler public API [#949](https://github.com/akka/alpakka-kafka/issues/949) by [@ennru](https://github.com/ennru)
- PartitionAssignmentHandler: add onLost [#986](https://github.com/akka/alpakka-kafka/issues/986) by [@ennru](https://github.com/ennru)
- Add wrapper for Metadata requests #497 [#900](https://github.com/akka/alpakka-kafka/issues/900) by [@jewertow](https://github.com/jewertow)
- Rebalance: filter messages of revoked partitions [#946](https://github.com/akka/alpakka-kafka/issues/946) by [@ennru](https://github.com/ennru)
- CommittableOffsetBatch: Handle multiple committer refs [#953](https://github.com/akka/alpakka-kafka/issues/953) by [@ennru](https://github.com/ennru)
- Akka Discovery support [#836](https://github.com/akka/alpakka-kafka/issues/836) by [@ennru](https://github.com/ennru)
- Add partitioned transactional source phase 1 [#930](https://github.com/akka/alpakka-kafka/issues/930) by [@seglo](https://github.com/seglo)
- Stage Logic and Actor logging with ID [#991](https://github.com/akka/alpakka-kafka/issues/991) by [@seglo](https://github.com/seglo)
- Commit refreshing: fix bug from aggregating offsets [#975](https://github.com/akka/alpakka-kafka/issues/975) by [@ennru](https://github.com/ennru)
- Producer: remove unreleased variants; simplify producer passing [#967](https://github.com/akka/alpakka-kafka/issues/967) by [@ennru](https://github.com/ennru)
- Committable: deprecate commitJavadsl and commitScaladsl [#959](https://github.com/akka/alpakka-kafka/issues/959) by [@ennru](https://github.com/ennru)
- Producer: some concurrency and naming improvements [#962](https://github.com/akka/alpakka-kafka/issues/962) by [@ennru](https://github.com/ennru)
- DrainingControl: expose failures on overwritten methods [#958](https://github.com/akka/alpakka-kafka/issues/958) by [@ennru](https://github.com/ennru)
- Pass ProducerSettings to stage [#952](https://github.com/akka/alpakka-kafka/issues/952) by [@seglo](https://github.com/seglo)
- Producer: change default parallelism [#944](https://github.com/akka/alpakka-kafka/issues/944) by [@ennru](https://github.com/ennru)
- Remove methods deprecated before 1.0 [#945](https://github.com/akka/alpakka-kafka/issues/945) by [@ennru](https://github.com/ennru)
- Use testcontainers for multi-broker integration tests and benchmarks [#939](https://github.com/akka/alpakka-kafka/issues/939) by [@seglo](https://github.com/seglo)

## Tests

- Use akka.test.timefactor [#994](https://github.com/akka/alpakka-kafka/issues/994) by [@seglo](https://github.com/seglo)
- Docs: remove duplicated producer tests [#960](https://github.com/akka/alpakka-kafka/issues/960) by [@ennru](https://github.com/ennru)
- Make EmbeddedKafka a provided dependency [#954](https://github.com/akka/alpakka-kafka/issues/954) by [@ennru](https://github.com/ennru)
- Use testcontainers for multi-broker integration tests and benchmarks [#939](https://github.com/akka/alpakka-kafka/issues/939) by [@seglo](https://github.com/seglo)
- Illustrate how max.poll.records affects buffer [#865](https://github.com/akka/alpakka-kafka/issues/865) by [@ennru](https://github.com/ennru)

## Alpakka Kafka Testkit

- Cleanup KafkaSpec before termination of embedded server [#970](https://github.com/akka/alpakka-kafka/issues/970) by [@shobull](https://github.com/shobull)
- Use testcontainers for multi-broker integration tests and benchmarks [#939](https://github.com/akka/alpakka-kafka/issues/939) by [@seglo](https://github.com/seglo)

## Documentation

- Docs: more links to API docs [#981](https://github.com/akka/alpakka-kafka/issues/981) by [@ennru](https://github.com/ennru)
- Docs: remove duplicated producer tests [#960](https://github.com/akka/alpakka-kafka/issues/960) by [@ennru](https://github.com/ennru)

## Other changes

- Scalafmt: don't remove redundant braces [#972](https://github.com/akka/alpakka-kafka/issues/972) by [@ennru](https://github.com/ennru)
- Akka 2.6.0 in scheduled build [#964](https://github.com/akka/alpakka-kafka/issues/964) by [@ennru](https://github.com/ennru)
- Akka 2.6.0-RC1 for the scheduled build [#938](https://github.com/akka/alpakka-kafka/issues/938) by [@ennru](https://github.com/ennru)
- Scala 2.13.1 and 2.12.10; plugin and test library upgrades [#935](https://github.com/akka/alpakka-kafka/issues/935) by [@ennru](https://github.com/ennru)
- Mima 0.6.0 and exclusions for #931 [#937](https://github.com/akka/alpakka-kafka/issues/937) by [@ennru](https://github.com/ennru)




This release is compiled and tested against Akka [2.5.23](https://doc.akka.io/docs/akka/2.5/), [2.6](https://doc.akka.io/docs/akka/2.6/) and Scala 2.11, 2.12, 2.13 on Adopt OpenJDK 8 and 11.

This release was made possible by:

